soundConfig: &soundConfig
  name: Sound
  params:
    - name: name
      type: file
      text: 効果音ファイル名
      description: |-
        通知表示時に再生する効果音ファイル
        空っぽの場合は効果音なしになります
      dir: audio/se/
      default: ''
    - name: volume
      type: number
      text: 効果音の音量
      description: 通知表示時に再生する効果音の音量（%）
      min: 0
      max: 100
      default: 90
    - name: pitch
      type: number
      text: 効果音のピッチ
      description: 通知表示時に再生する効果音のピッチ（%）
      min: 0
      max: 200
      default: 100
    - name: pan
      type: number
      text: 効果音の位相
      description: 通知表示時に再生する効果音の位相
      min: -100
      max: 100
      default: 0

TorigoyaMZ_NotifyMessage:
  version: 1.3.0
  title:
    ja: 通知メッセージプラグイン
  target:
    - MZ
  base:
    - TorigoyaMZ_FrameTween
  orderAfter:
    - TorigoyaMZ_FrameTween
  commands:
    - name: notify
      text: 通知の表示
      description: 指定内容の通知を表示します
      args:
        - name: message
          type: multiline_string
          text: メッセージ
          description: 通知に表示する文章を指定します。「文章の表示」のコマンドが一部利用できます。
        - name: icon
          type: number
          text: アイコンID
          description: |-
            通知に表示するアイコンのIDを指定します。
            0の場合は表示しません。
        - name: note
          type: note
          text: メモ欄
          description: |-
            メモ欄です。
            ツクールのメモ欄と同様に利用できます。
    - name: notifyWithVariableIcon
      text: 通知の表示(アイコン変数指定)
      description: 指定内容の通知を表示します。アイコンのIDを変数で指定します。
      args:
        - name: message
          type: multiline_string
          text: メッセージ
          description: 通知に表示する文章を指定します。「文章の表示」のコマンドが一部利用できます。
        - name: iconVariable
          type: variable
          text: アイコンID（変数指定）
          description: |-
            通知に表示するアイコンIDが設定された変数を指定します。
            変数の中身が0またはマイナスの場合は表示しません。
        - name: note
          type: note
          text: メモ欄
          description: |-
            メモ欄です。
            ツクールのメモ欄と同様に利用できます。
  help:
    ja: |
      画面の左下から通知メッセージを表示する機能を追加します。
      通知メッセージはプラグインコマンドで表示できます。

      ------------------------------------------------------------
      ■ メモ欄を使ったカスタマイズ
      ------------------------------------------------------------
      プラグインコマンドのメモ欄に以下の記述を行うことで
      通知ごとに一部動作をカスタマイズすることができます。

      ▼ 表示時の効果音を無しにする
      <noSound>
  params:
    - name: base
      type: string
      text: ■ 基本設定
    - name: baseAppearTime
      type: number
      text: 登場/退場時間
      description: 通知が画面にスクロールイン/アウトする時間（フレーム数/60＝1秒）を指定します。
      parent: base
      min: 0
      default: 15
    - name: baseViewTime
      type: number
      text: 表示時間
      description: 通知の表示時間（フレーム数/60＝1秒）を指定します。0にすると画面外に押し出されるまで消えなくなります。
      parent: base
      min: 0
      default: 90
    - name: baseFontSize
      type: number
      text: 文字サイズ
      description: 通知メッセージの文字サイズを指定します
      parent: base
      min: 1
      default: 22
    - name: basePadding
      type: number
      text: 余白サイズ
      description: 通知メッセージの全体的な余白サイズを指定します
      parent: base
      min: 0
      default: 4
    - name: baseLeftPadding
      type: number
      text: 左側の追加余白サイズ
      description: |-
        通知メッセージの左側の余白サイズを指定します。
        全体の余白サイズに加え、この分が余白に追加されます。
      parent: base
      min: 0
      default: 0
    - name: baseRightPadding
      type: number
      text: 右側の追加余白サイズ
      description: |-
        通知メッセージの右側の余白サイズを指定します。
        全体の余白サイズに加え、この分が余白に追加されます。
      parent: base
      min: 0
      default: 30
    - name: baseItemPadding
      type: number
      text: アイコンと文章の余白
      description: 通知アイコンとメッセージの間の余白サイズを指定します
      parent: base
      min: 0
      default: 5
    - name: baseSound
      type: struct
      text: 効果音
      description: 通知表示時の効果音を指定します。
      parent: base
      default:
        name: Item1
        volume: '90'
        pitch: '100'
        pan: '0'
      struct: Sound
    - name: advanced
      type: string
      text: ■ 上級設定
    - name: advancedVisibleSwitch
      type: switch
      text: 有効スイッチ
      description: このスイッチがONのときのみ画面に通知を表示するようにします。「なし」の場合は常に表示されます。
      parent: advanced
      default: 0
    - name: advancedBackgroundColor1
      type: string
      text: 背景グラデーション:左端
      description: |-
        背景グラデーションの左端の色を指定します。
        色はCSSの記法で指定できます。
      parent: advanced
      default: rgba(0, 0, 64, 0.6)
    - name: advancedBackgroundColor2
      type: string
      text: 背景グラデーション:右端
      description: |-
        背景グラデーションの右端の色を指定します。
        色はCSSの記法で指定できます。
      parent: advanced
      default: rgba(0, 32, 64, 0)
    - name: advancedUiPaddingBottom
      type: number
      text: 'UIエリア余白: 下端'
      description: 通知メッセージ表示位置の下側の余白を指定します。
      parent: advanced
      default: 5
    - name: advancedKeepMessage
      type: boolean
      text: シーン遷移しても表示をキープ
      description: 【危険：環境によってはONにすると不具合の原因となります】シーン遷移してもメッセージを全消ししないようにします。
      parent: advanced
      on: キープする（危険）
      off: キープしない（安全）
      default: false
  structs:
    - <<: *soundConfig

TorigoyaMZ_NotifyMessage_AddonGetItem:
  version: 1.2.0
  title:
    ja: '通知メッセージアドオン: アイテム獲得表示'
  target:
    - MZ
  base:
    - TorigoyaMZ_NotifyMessage
  orderAfter:
    - TorigoyaMZ_NotifyMessage
  help:
    ja: |
      以下のイベントコマンド実行時に自動的に通知メッセージを表示します。
      ※増やす場合のみ表示されます

      ・所持金の増減
      ・アイテムの増減
      ・武器の増減
      ・防具の増減

      ------------------------------------------------------------
      ■ 表示したくない場合
      ------------------------------------------------------------
      例えばお金の入手メッセージはいらない！という場合は、
      お金の入手メッセージの内容を空欄にしてください。
  params:
    - name: base
      type: string
      text: ■ 基本設定
    - name: baseGainSingleMessage
      type: string
      text: アイテム入手メッセージ（1つ）
      description: "アイテムを1つ入手したときのメッセージを設定します。（\\name : アイテム名）"
      parent: base
      default: \c[2]\name\c[0] を手に入れた！
    - name: baseGainMultiMessage
      type: string
      text: アイテム入手メッセージ（複数）
      description: "アイテムを複数入手したときのメッセージを設定します。（\\name : アイテム名  \\count : 個数）"
      parent: base
      default: \c[2]\name\c[0] ×\count を手に入れた！
    - name: baseGainMoneyMessage
      type: string
      text: お金入手メッセージ
      description: "お金を入手したときのメッセージを設定します。（\\gold : 獲得金額）"
      parent: base
      default: \gold\c[4]\G\c[0] を手に入れた！
    - name: baseGainMoneyIcon
      type: number
      text: お金入手アイコン
      description: お金を入手したときのアイコンIDを設定します。0の場合はアイコンを表示しません。
      parent: base
      default: 0
    - name: advanced
      type: string
      text: ■ 上級設定
    - name: advancedSwitch
      type: switch
      text: 有効スイッチ
      description: このスイッチがONのときのみ画面に通知するようにします。「なし」の場合は常に通知されます。
      parent: advanced
      default: 0
    - name: advancedGainItemSound
      type: struct
      text: アイテム入手効果音の上書き
      description: |-
        アイテムを入手したときに再生する効果音を指定します。
        上書き設定をしない場合は通常の通知音が再生されます。
      parent: advanced
      default:
        overwrite: 'false'
        sound: '{"name":"","volume":"90","pitch":"100","pan":"0"}'
      struct: CustomSound
    - name: advancedGainMoneySound
      type: struct
      text: お金入手効果音の上書き
      description: |-
        お金を入手したときに再生する効果音を指定します。
        上書き設定をしない場合は通常の通知音が再生されます。
      parent: advanced
      default:
        overwrite: 'false'
        sound: '{"name":"","volume":"90","pitch":"100","pan":"0"}'
      struct: CustomSound
  structs:
    - <<: *soundConfig
    - name: CustomSound
      params:
        - name: overwrite
          type: boolean
          text: 効果音設定の上書き
          description: |-
            通知表示時に再生する効果音を
            デフォルトから上書き設定するか指定します。
          on: 上書きする
          off: 上書きしない
          default: false
        - name: sound
          type: struct
          text: 効果音
          description: |-
            上書き設定する効果音の内容を指定します。
            上書きしない場合、この設定は無視されます。
          default:
            name: ''
            volume: '90'
          struct: Sound

TorigoyaMZ_NotifyMessage_AddonAtsumaruGlobalSignal:
  version: 1.0.2
  title:
    ja: '通知メッセージアドオン: アツマールグローバルシグナル通知ログ'
  target:
    - MZ
  base:
    - TorigoyaMZ_NotifyMessage
  orderAfter:
    - TorigoyaMZ_NotifyMessage
  commands:
    - name: sendEvent
      text: イベントログの送信
      description: 指定のイベントログを送信します
      args:
        - name: key
          type: string
          text: 種別キー
          description: |-
            送信するイベント種別の識別名です。
            プラグイン設定で指定したものを指定してください。
        - name: iconVariable
          type: variable
          text: アイコンID（変数指定）
          description: |-
            通知に表示するアイコンIDが設定された変数を指定します。
            「なし」の場合はデフォルトのアイコンを使用します。
          default: 0
  help:
    ja: |
      ※このプラグインはゲームアツマール用の非公式プラグインです

      ゲームアツマールのグローバルシグナルAPIを利用して
      全ユーザーで共有のイベントログを表示する機能を追加します。

      ------------------------------------------------------------
      ■ 注意事項
      ------------------------------------------------------------
      ・非公式のプラグインです。突然動かなくなる場合があります。

      ・イベントログのデータサイズが大きい場合、
      　APIのサイズ上限に引っかかり正常に送信できない場合があります

      ・他のプラグインからグローバルシグナルAPIを使用している場合
      　競合する可能性があります。ご注意ください。

      ------------------------------------------------------------
      ■ 使用方法：イベントログの設定
      ------------------------------------------------------------
      事前に表示するイベントログの種類を登録する必要があります。

      「イベントログ種別」に以下の情報を設定してください。

      ・種別キー
      イベントログの種類を表す言葉です。
      ここで設定した言葉をイベントコマンドで使用します。
      データサイズが小さい、短い英語がおすすめ！

      ・ログ文章
      イベントログの文章として表示するテンプレートを設定します。
      ここで設定した文章が通知として表示されます。
      ここには一部特殊な記法を利用することができます（後述）

      ・アイコンID
      通知に表示するアイコンを設定します

      ------------------------------------------------------------
      ■ 使用方法：通知の発行
      ------------------------------------------------------------
      通知を発行したいタイミングで
      プラグインコマンドの「イベントログの送信」を実行してください。

      種別キーには「イベントログ種別」で設定したものを指定してください。

      ------------------------------------------------------------
      ■ ログ文章の記法について
      ------------------------------------------------------------
      ログ文章には文章の表示と同様の記法を利用できます。

      ＜通知を送った人の名前について＞
      文章中に \SIG_NAME と記述することで、
      その通知を送った人のアツマール上での名前が表示されます。

      使用例） \SIG_NAME さんがログインしました

      ＜変数などの表示について＞
      \V[xx] などの変数表示は自分自身のものが表示されます。
      そのため、他のプレイヤーが送ったイベント通知であっても、
      他のプレイヤーの変数ではなく自分の変数が表示されてしまいます。

      もし、他のプレイヤーの変数の中身が表示されてほしい場合は、
      \V[xx] ではなく \SIG_V[xx] と指定してください。

      使用例） \SIG_NAME が \SIG_V[1] ゴールド獲得！
  params:
    - name: base
      type: string
      text: ■ 基本設定
    - name: baseEventLogs
      type: struct[]
      text: イベントログ種別
      description: イベントログの種類を定義します。
      parent: base
      default: []
      struct: EventLog
    - name: baseFirstFetchLimit
      type: number
      text: 起動時に過去ログを最大何件取得するか？
      description: 起動時に最大何件のログを取得するか指定します。
      parent: base
      min: 0
      default: 5
    - name: advanced
      type: string
      text: ■ 上級設定
    - name: advancedForceMute
      type: boolean
      text: 効果音を強制無効化
      description: |-
        通知の効果音を強制的に無効化するか選択できます。
        うるさいので無効化がオススメ。
      parent: advanced
      on: 強制無効化する
      off: 無効化しない
      default: true
    - name: advancedFetchInterval
      type: number
      text: グローバルシグナルの取得間隔(秒)
      description: |-
        グローバルシグナルを何秒おきに取得するか設定します。
        短くしすぎるとAPI上限に引っかかるため注意。
      parent: advanced
      min: 10
      default: 60
  structs:
    - name: EventLog
      params:
        - name: key
          type: string
          text: 種別キー
          description: |-
            イベント種別の識別名です。
            ここで設定した文字列をログ送信時に指定します。
        - name: message
          type: multiline_string
          text: ログ文章
          description: |-
            ログとして表示するメッセージを指定します。
            一部特殊な記法があります。説明を読んでね。
        - name: icon
          type: number
          text: アイコンID
          description: |-
            通知に表示するアイコンのIDを指定します。
            0の場合は表示しません。
        - name: note
          type: note
          text: メモ欄
          description: |-
            メモ欄です。
            ツクールのメモ欄と同様に利用できます。
