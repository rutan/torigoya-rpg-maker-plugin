base: &base
  version: 1.2.1
  title:
    ja: テキスト本棚プラグイン
  help:
    ja: |
      テキストファイルから本棚シーンを作成します。
      使い方の詳細は解説ページをご覧ください。
      https://torigoya-plugin.rutan.dev/system/bookshelf/

      ------------------------------------------------------------
      ■ 基本的な使い方
      ------------------------------------------------------------
      (1) 本棚テキストを置くフォルダをつくる

      プロジェクトのフォルダ（img などの横）に、
      bookshelf
      という名前のフォルダを作成してください。

      (2) 本棚用のテキストファイルを作成する

      後述の形式のテキストファイルを bookshelf フォルダ内に作成してください。
      テキストはいくつでも設置できます。

      (3) プラグインコマンドで呼び出す

      本棚を呼び出したいイベントから
      プラグインコマンドで表示したいテキストファイルを指定します。

      ■ MZの場合
      プラグインコマンドから「本棚の表示」を選んでください
      パラメータ欄にテキストファイルの名前を指定します

      ■ MVの場合
      プラグインコマンドに以下のように記述してください

      本棚表示 xxxxx

      xxxxx の部分は読み込みたいテキストファイルの名前にしてください

      ------------------------------------------------------------
      ■ テキストの書き方
      ------------------------------------------------------------
      ※見づらいので、解説ページを見ることをオススメします＞＜

      テキストファイル内で本棚のタイトルを指定できます。
      以下のように、シャープ1個を先頭につけ、その後ろにタイトルを記述してください。

      # ここに本棚のタイトル

      なお、タイトルが未設定の場合は、
      本棚画面でタイトル欄が非表示になります。


      ■ 本棚の中に本を追加する
      以下のように、シャープ2個を先頭につけた行が本のタイトルになり、
      その次の行からが本の中身になります。
      本の中身には、「文章の表示」同様に \c[2] などのコマンドが使えます。

      ## 1冊目の本のタイトル
      ここに本文
      ここに本文

      ## 2冊目の本のタイトル
      ここに本文
      文章の表示同様に\c[2]文字の色を変えたり\c[0]できます


      ■ 本のページを増やす
      このプラグインは文章がはみ出しても
      自動的にページを切り替えたりはしません。
      手動でページ切り替えを記述する必要があります。
      ページ切り替えをしたい場所で、
      以下のようにハイフンを3個以上並べてください。

      ## 本のタイトル
      1ページ目の本文

      ----------

      2ページ目の本文


      ■ 本文の中に画像を表示する
      本文の中に以下のように記述することで、
      文章の間に顔グラやピクチャーを表示できます。

      \bookFace 顔グラ画像の名前, 番号

      \bookPicture ピクチャーの名前
  params:
    - name: base
      type: string
      text: ■ 基本設定
    - name: bookshelfTitleFontSize
      type: number
      text: 本棚名の文字サイズ
      description: 本棚の名前のフォントサイズを指定します
      parent: base
      min: 1
      default: 22
    - name: bookshelfWidth
      type: number
      text: 本の一覧の横幅
      description: |-
        本棚画面の本の一覧の横幅を指定します
        0の場合、UI領域をすべて使用します。
      parent: base
      min: 0
      default: 400
    - name: bookshelfMaxHeight
      type: number
      text: 本の一覧の最大縦幅
      description: |-
        本棚画面の本の一覧の最大縦幅を指定します。
        0の場合、UI領域をすべて使用します。
      parent: base
      min: 0
      default: 0
    - name: bookContentFontSize
      type: number
      text: 本の中身の文字サイズ
      description: 本の中身ウィンドウのフォントサイズを指定します。
      parent: base
      min: 1
      default: 24
    - name: bookContentWidth
      type: number
      text: 本の中身の横幅
      description: |-
        本の中身ウィンドウの横幅を指定します。
        0の場合、UI領域をすべて使用します。
      parent: base
      min: 0
      default: 0
    - name: bookContentHeight
      type: number
      text: 本の中身の縦幅
      description: |-
        本の中身ウィンドウの縦幅を指定します。
        0の場合、UI領域をすべて使用します。
      parent: base
      min: 0
      default: 0
    - name: menu
      type: string
      text: ■ メニュー設定
    - name: menuItems
      type: struct[]
      text: メニューに本棚を追加
      parent: menu
      default: []
      struct: MenuItem
  structs:
    - name: MenuItem
      params:
        - name: name
          type: string
          text: 項目名
          description: メニューに表示される項目の名前
          default: ''
        - name: fileName
          type: string
          text: 本棚のファイル名
          description: |-
            読み込むテキストのファイル名を指定してください
            フォルダ(bookshelf)の名前は含める必要ありません
          default: ''
        - name: switchId
          type: switch
          text: 有効スイッチ
          description: |-
            このスイッチがONのときのみ選択できるようにします
            なしの場合は、常に選択できます
          default: 0
        - name: visibility
          type: boolean
          text: 無効時に表示するか
          description: |-
            有効スイッチがONじゃないときに
            項目をメニューに表示するか設定できます
          on: 表示する
          off: 表示しない
          default: true
        - name: note
          type: multiline_string
          text: メモ
          description: |-
            メモ欄です。
            ツクールのメモ欄同様に使えます。
          default: ''

Torigoya_Bookshelf:
  <<: *base
  target:
    - MV

TorigoyaMZ_Bookshelf:
  <<: *base
  target:
    - MZ
  commands:
    - name: openBookshelf
      text: 本棚の表示
      description: 指定ファイルを読み込み、本棚を表示します
      args:
        - name: fileName
          type: string
          text: ファイル名
          description: |-
            読み込むテキストのファイル名を指定してください
            フォルダ(bookshelf)の名前は含める必要ありません
